/* NSFW thumbnails / inline images: class is on the IMG */
img.nsfw-blur {
  filter: blur(24px);
  transition: filter 160ms linear;
}
a.nsfw-blur > img {
    filter: inherit;
}

/* Your existing body toggle can override */
body.nsfw-unblur img.nsfw-blur {
  filter: none;
}

/* MediaViewer: blur the displayed image when wrapper is flagged */
.mw-mmv-wrapper.nsfw-mmv-blur .mw-mmv-image img {
  filter: blur(24px);
}

/* Optional: respect your unblur mode globally */
body.nsfw-unblur .mw-mmv-wrapper.nsfw-mmv-blur .mw-mmv-image img {
  filter: none;
}
/* When wrapper is flagged, blur MMV image */
.mw-mmv-wrapper.nsfw-mmv-blur .mw-mmv-image img {
  filter: blur(24px);
}
.nsfw-blur img {
  transition: none !important;
  filter: blur(24px);
}
/* Universal NSFW blur â€” works for img, figure, gallery, thumbs */

.nsfw-blur img,
.nsfw-blur .mw-file-element,
figure.nsfw-blur img,
figure.nsfw-blur .mw-file-element,
span.nsfw-blur img,
span.nsfw-blur .mw-file-element {
    filter: blur(24px) !important;
}

/* File: pages */
body.nsfw-filepage-blur figure img,
body.nsfw-filepage-blur .mw-file-element {
    filter: blur(24px) !important;
}

/* MediaViewer */
body.nsfw-mmv-preblur .mw-mmv-image img,
body.nsfw-mmv-preblur img.mw-mmv-final-image {
    filter: blur(24px) !important;
}
